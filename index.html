<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content"
    />
    <title>Vibe Drawing</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="logo-48.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="logo-48.png" />
    <link rel="apple-touch-icon" href="logo-192.png" />
    <link rel="shortcut icon" href="logo-144.png" />

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="src/components/pizza-size-selector.css" />
    <link rel="stylesheet" href="src/components/numbers-size-selector.css" />
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#111111" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,300;0,400;0,700;1,300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Copyright Header - Always visible -->
    <div class="copyright-header">
      <span class="copyright-text"
        >Welcome to VIBE DRAWING ‚Äî app for personal use only. Commercial use requires prior written
        authorization. Developed with
        <a href="https://www.overvibing.com" target="_blank" rel="noopener noreferrer"
          >AWP (Agentic Workflow Protocol)</a
        >
        by
        <a href="https://www.linkedin.com/in/one-front/" target="_blank" rel="noopener noreferrer"
          >Michael Wybraniec</a
        >
        ¬©
        <a href="https://www.one-front.com" target="_blank" rel="noopener noreferrer"
          >ONE-FRONT.COM</a
        >
        2025++
      </span>
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
      <div class="splash-content">
        <img src="logo-192.png" alt="VIBE DRAWING Logo" class="splash-logo" />
        <!-- <div class="loading-text">Loading...</div> -->
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
      </div>
    </div>

    <!-- ONE-FRONT Link - Always visible after loading -->
    <div class="one-front-credit" onclick="showInfoPopup()">
      <span class="info-icon">‚ìò</span>
    </div>

    <!-- Debug Info Component -->
    <div id="debug-info" class="debug-info" style="display: none">
      <div class="debug-content">
        <div class="debug-section">
          <div class="debug-title">Current Settings</div>
          <div id="debug-current-info"></div>
        </div>
        <div class="debug-section">
          <div class="debug-title">Size Tracking</div>
          <div id="debug-size-info"></div>
        </div>
      </div>
    </div>

    <!-- Info Popup -->
    <div id="info-popup" class="info-popup">
      <div class="info-popup-content">
        <span class="close-popup" onclick="hideInfoPopup()">&times;</span>

        <h3>Hello! üëã</h3>

        <div class="popup-section">
          <p>Welcome to <strong>VIBE DRAWING</strong>.</p>
          <p>
            This app is made by Human and AI pair programming (called VIBE-CODING) and Agentic
            Workflow Protocol (AWP) to prevent getting lost in the scaled development flow (called
            OVERVIBING).
          </p>
        </div>

        <div class="popup-section">
          <div class="audience-grid">
            <div class="audience-item">
              <strong>Web App</strong> is made for VIBE architects, developers and creators who want
              to quickly vibe-out the diagrams at the brainstorming meetings.
            </div>
            <div class="audience-item">
              <strong>Mobile Apps</strong> are designed for vibing children who perceive the world
              differently and "see" the art of another kind.
            </div>
          </div>
        </div>

        <!-- <div class="popup-section">
          <h4>Built with AWP</h4>
          <p>This app is made by Human and AI pair programming (called VIBE-CODING) and Agentic Workflow Protocol (AWP) to prevent getting lost in the scaled development flow (called OVERVIBING).
        </div> -->

        <hr />

        <div class="popup-section">
          <h4>Developer Options üîß</h4>
          <div class="developer-buttons">
            <button class="debug-checkbox-btn" id="debugger-toggle">
              <span class="debug-icon">üîß</span>
              <span class="debug-label">Debug</span>
            </button>
            <button class="debug-checkbox-btn" id="labels-toggle">
              <span class="debug-icon">üè∑Ô∏è</span>
              <span class="debug-label">Labels</span>
            </button>
          </div>
        </div>

        <div class="popup-section">
          <p>
            <strong>Do you like it? </strong> ->
            <a href="https://ko-fi.com/mikedev" target="_blank">Buy me a coffee.</a>
          </p>
          <p>
            <strong>Want to hire me? </strong> ->
            <a href="https://www.linkedin.com/in/one-front/" target="_blank"
              >$400 - friends and family discount, $600-1000 - regular price.</a
            >
          </p>
        </div>

        <div class="signature">
          <p>‚Äî Mike</p>
          <a href="https://one-front.com/" target="_blank">ONE-FRONT</a>
        </div>
      </div>
    </div>

    <main id="app">
      <canvas id="app-canvas"></canvas>

      <!-- Twinkling Stars Background -->
      <div class="stars-container">
        <div class="star" style="left: 10%; top: 15%"></div>
        <div class="star" style="left: 20%; top: 25%"></div>
        <div class="star" style="left: 30%; top: 35%"></div>
        <div class="star" style="left: 40%; top: 45%"></div>
        <div class="star" style="left: 50%; top: 55%"></div>
        <div class="star" style="left: 60%; top: 65%"></div>
        <div class="star" style="left: 70%; top: 75%"></div>
        <div class="star" style="left: 80%; top: 85%"></div>
        <div class="star" style="left: 90%; top: 95%"></div>
        <div class="star" style="left: 15%; top: 20%"></div>
        <div class="star" style="left: 25%; top: 30%"></div>
        <div class="star" style="left: 35%; top: 40%"></div>
        <div class="star" style="left: 45%; top: 50%"></div>
        <div class="star" style="left: 55%; top: 60%"></div>
        <div class="star" style="left: 65%; top: 70%"></div>
        <div class="star" style="left: 75%; top: 80%"></div>
        <div class="star" style="left: 85%; top: 90%"></div>
        <div class="star" style="left: 95%; top: 10%"></div>
        <div class="star" style="left: 5%; top: 50%"></div>
        <div class="star" style="left: 12%; top: 70%"></div>
        <div class="star" style="left: 18%; top: 80%"></div>
        <div class="star" style="left: 22%; top: 90%"></div>
        <div class="star" style="left: 28%; top: 5%"></div>
        <div class="star" style="left: 32%; top: 15%"></div>
        <div class="star" style="left: 38%; top: 25%"></div>
        <div class="star" style="left: 42%; top: 35%"></div>
        <div class="star" style="left: 48%; top: 45%"></div>
        <div class="star" style="left: 52%; top: 55%"></div>
        <div class="star" style="left: 58%; top: 65%"></div>
        <div class="star" style="left: 62%; top: 75%"></div>
        <div class="star" style="left: 68%; top: 85%"></div>
        <div class="star" style="left: 72%; top: 95%"></div>
        <div class="star" style="left: 78%; top: 5%"></div>
        <div class="star" style="left: 82%; top: 15%"></div>
        <div class="star" style="left: 88%; top: 25%"></div>
        <div class="star" style="left: 92%; top: 35%"></div>
        <div class="star" style="left: 8%; top: 40%"></div>
        <div class="star" style="left: 14%; top: 60%"></div>
        <div class="star" style="left: 24%; top: 70%"></div>
        <div class="star" style="left: 34%; top: 80%"></div>
        <div class="star" style="left: 44%; top: 90%"></div>
        <div class="star" style="left: 54%; top: 10%"></div>
        <div class="star" style="left: 64%; top: 20%"></div>
        <div class="star" style="left: 74%; top: 30%"></div>
        <div class="star" style="left: 84%; top: 40%"></div>
        <div class="star" style="left: 94%; top: 50%"></div>
        <div class="star" style="left: 6%; top: 60%"></div>
        <div class="star" style="left: 16%; top: 70%"></div>
        <div class="star" style="left: 26%; top: 80%"></div>
        <div class="star" style="left: 36%; top: 90%"></div>
        <div class="star" style="left: 46%; top: 10%"></div>
        <div class="star" style="left: 56%; top: 20%"></div>
        <div class="star" style="left: 66%; top: 30%"></div>
        <div class="star" style="left: 76%; top: 40%"></div>
        <div class="star" style="left: 86%; top: 50%"></div>
        <div class="star" style="left: 96%; top: 60%"></div>
      </div>

      <!-- Menu Toggle Button - Always visible above toolbox -->
      <div class="menu-toggle" id="menu-toggle">
        <div class="menu-toggle-icon">‚ñº</div>
      </div>

      <div class="tools-container" id="tools-container">
        <!-- <div class="tool-group">
          <div class="control-group">
            <span class="control-label">üì≥</span>
            <input
              type="range"
              id="vibration-knob"
              min="0"
              max="1"
              step="0.1"
              value="1"
              class="knob-slider"
              aria-label="Vibration intensity"
            />
          </div>
          <div class="tool-label">Haptic</div>
        </div> -->

        <div class="tool-group">
          <button id="style-switch" class="tool-button">üåÄ</button>
          <div class="tool-label">Randomize</div>
        </div>

        <div class="tool-group">
          <button id="style-selector" class="tool-button">1</button>
          <div class="tool-label">Style</div>
        </div>

        <div class="tool-group">
          <div class="size-selector" id="size-selector"></div>
          <div class="tool-label">Size</div>
        </div>

        <div class="tool-group">
          <button id="eraser" class="tool-button">üßΩ</button>
          <div class="tool-label">Erase</div>
        </div>

        <div class="tool-group">
          <button id="clear-canvas" class="clear-button">üóëÔ∏è</button>
          <div class="tool-label">Clear</div>
        </div>

        <div class="tool-group">
          <button id="save-as" class="tool-button">üíæ</button>
          <div class="tool-label">Save</div>
        </div>

        <div class="tool-group">
          <button
            id="music-control"
            class="tool-button music-button"
            title="Click to turn calm background music on/off"
          >
            üéµ
          </button>
          <div class="tool-label">Music</div>
        </div>

        <div class="tool-group desktop-only">
          <button
            class="tool-button info-button"
            onclick="showInfoPopup()"
            title="About VIBE DRAWING"
          >
            ‚ìò
          </button>
          <div class="tool-label">Info</div>
        </div>
      </div>

      <div class="style-buttons-container" style="display: none">
        <button id="style-1" class="style-button active">Style 1</button>
        <button id="style-2" class="style-button">Style 2</button>
        <button id="style-3" class="style-button">Style 3</button>
      </div>
    </main>

    <!-- Save Options Modal -->
    <div id="save-modal" class="info-popup">
      <div class="info-popup-content">
        <span class="close-popup" onclick="closeSaveModal()">&times;</span>

        <h3>Export Options üíæ</h3>

        <div class="popup-section">
          <h4>Quality Resolution</h4>
          <div class="quality-options">
            <label class="option-item">
              <input type="radio" name="quality" value="2K" checked />
              <span><strong>2K</strong> - Web Quality</span>
            </label>
            <label class="option-item">
              <input type="radio" name="quality" value="5K" />
              <span><strong>5K</strong> - High Quality</span>
            </label>
            <label class="option-item">
              <input type="radio" name="quality" value="10K" />
              <span><strong>10K</strong> - Professional</span>
            </label>
            <label class="option-item">
              <input type="radio" name="quality" value="20K" />
              <span><strong>20K</strong> - Maximum Quality</span>
            </label>
          </div>
        </div>

        <div class="popup-section">
          <h4>Export Format</h4>
          <div class="format-options">
            <label class="option-item">
              <input type="radio" name="format" value="PNG" checked />
              <span><strong>PNG</strong> - Lossless quality, perfect for graphics</span>
            </label>
            <label class="option-item">
              <input type="radio" name="format" value="JPEG" />
              <span><strong>JPEG</strong> - Compressed, great for photos</span>
            </label>
            <label class="option-item">
              <input type="radio" name="format" value="WEBP" />
              <span><strong>WebP</strong> - Modern format, smaller files</span>
            </label>
            <label class="option-item">
              <input type="radio" name="format" value="SVG" />
              <span><strong>SVG</strong> - Vector-like quality, scalable</span>
            </label>
          </div>
        </div>

        <hr />

        <div class="popup-section mobile-hide">
          <p>
            <strong>Want to know more?</strong> ->
            <a href="#" onclick="showInfoPopup(); closeSaveModal(); return false;"
              >Learn about VIBE DRAWING</a
            >
          </p>
        </div>

        <div class="signature">
          <button id="cancel-save" class="save-btn cancel-btn">Cancel</button>
          <button id="confirm-save" class="save-btn confirm-btn">Export Now</button>
        </div>
      </div>
    </div>

    <!-- Processing Spinner -->
    <div id="processing-spinner" class="info-popup" style="display: none">
      <div class="info-popup-content processing-modal">
        <div class="processing-content">
          <div class="spinner"></div>
          <h3>Processing Export ‚ö°</h3>
          <p>Creating your high-quality artwork...</p>
          <p class="processing-info">Made with VIBE-CODING & AWP by Mike</p>
        </div>
      </div>
    </div>

    <script type="module" src="src/main.ts"></script>
  </body>
</html>
